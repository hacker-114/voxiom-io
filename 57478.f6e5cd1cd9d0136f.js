try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="1977bfc4-c862-4cf0-b59d-b69ed65d54ab",e._sentryDebugIdIdentifier="sentry-dbid-1977bfc4-c862-4cf0-b59d-b69ed65d54ab")}catch(e){}{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=Object.assign({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:crazygames-portal":!0})}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[57478],{57478:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var r=n(74848),a=n(96540),l=n(341),s=n(47122),o=n(67330),i=n(86715),d=n(80362),c=n(8056),u=n(40499),f=n(30804),p=n(75782),w=n(97373),h=n(45249),g=n(66961),y=n(64996),m=n(52129),b=n(62316),L=n(68044),x=n(58466),v=n(8740);let C=(0,n(3552).Ay)("div")(()=>({width:"100%",height:"100%"})),A=e=>{let{game:t}=e,n=a.useRef(null),A=a.useRef(null),[F,k]=a.useState("loading"),{routeHelper:_}=a.useContext(h.A),{pageUrlHelper:I}=a.useContext(g.e),{services:S}=a.useContext(y.A),E=a.useContext(c.A),M=a.useContext(f.H);return a.useEffect(()=>{let e=e=>{let t=new URL(e,window.location.href);window.location.pathname!==t.pathname&&k("disabled")};return i.Router.events.on("routeChangeStart",e),function(){i.Router.events.off("routeChangeStart",e)}},[]),a.useEffect(()=>{let e=e=>{let n;if(!e.data||e.data.type!==l.x||!e.origin)return;try{n=new URL(e.origin)}catch{return}let r=_.isMessageFromGameframe(e,t.desktopUrl),a=n.hostname===window.location.hostname;if(r||a)switch(e.data.event){case"happytime":(0,m.A)(E).catch(e=>{console.error(e)});break;case"inviteLink":{let t=e.data.url;try{window.history.replaceState({...window.history.state,as:t,url:t},"",t)}catch(e){console.error(e)}break}case"exitFullscreen":p.A.exitNativeFullscreen()}};return window.addEventListener("message",e),function(){window.removeEventListener("message",e)}},[t.desktopUrl,E,_]),a.useEffect(()=>{let e=()=>{A.current&&A.current.contentWindow?.postMessage("tcf-loaded","*")};return(0,d.b)().addInstallListener(e),k("enabled"),function(){(0,d.b)().removeInstallListener(e)}},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C,{children:(0,r.jsx)("div",{className:"GameContainer",ref:n,style:{position:"relative",width:"100%",height:"100%"},children:(()=>{if("disabled"===F)return null;if("loading"===F)return(0,r.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,r.jsx)(o.A,{disableShrink:!0,sx:{color:"white"}})});let e=(0,x.A)(t),n=t.descriptionFirst?`${t.descriptionFirst} ${t.descriptionRest}`:null,a=(0,v.e)(t),l=1===S.crazyAnalyticsService.getSessionCount(),i=I.getPreviewBuildId(),d=new URLSearchParams(window.location.search),c=(0,u.ZV)(E)||null!==d.get(w.SC),f=E.os!==s.f.chromeos,p=t.gameThumbLabels.includes("comet"),h="enabled"===M.czyExpCometBrowser_CZY_16401,g=_.gameIframeUrl(t.desktopUrl,{...I.filteredQueryParams(),...l&&{skipPrerollFirstSession:l},...t.isPreview&&{isPreview:!0},...t.isPreview&&i&&{gameBuildId:i},...h&&f&&p&&!c&&{isComet:!0}});return g?(0,r.jsx)("iframe",{id:L.u,src:g,title:t.name,scrolling:"no",allow:a,allowFullScreen:!0,ref:A,sandbox:e,loading:"eager",importance:"high",...n?{dangerouslySetInnerHTML:{__html:n}}:{},"data-hj-allow-iframe":!0,style:{border:0,margin:0,padding:0,width:"100%",height:"100%",position:"absolute",top:0,left:0,userSelect:"none"}},t.slug):null})()})}),(0,r.jsx)(b.A,{})]})}},8740:(e,t,n)=>{n.d(t,{e:()=>r});function r(e){let t=e.allowWebCam||e.isPreview?"camera;":"";return`autoplay; payment; fullscreen; microphone; focus-without-user-activation *; screen-wake-lock; gamepad; clipboard-read; clipboard-write; accelerometer; gyroscope; ${t}`}},62316:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(96540),a=n(75782),l=n(64996);let s=()=>{let e=r.useContext(l.A).services;return r.useEffect(()=>{let t=()=>{if(a.A.isFakeFullscreen()||a.A.isFullscreen()){e.crazyAnalyticsService.displayEvent("fullscreen","enter");return}e.crazyAnalyticsService.displayEvent("fullscreen","exit")};return a.A.addFullscreenListener(t),a.A.addFakeFullscreenListener(t),()=>{a.A.removeFullscreenListener(t),a.A.removeFakeFullscreenListener(t)}},[e.crazyAnalyticsService]),null}},52129:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(40499),a=n(75782),l=n(61875),s=n(26549);let o=async function(e){if(a.A.isFullscreen()||(0,r.Kg)(e))return;let t=await n.e(14685).then(n.bind(n,14685)),o=t.default||t,i=o.create(void 0,{resize:!0,useWorker:!0});if((0,l.Iv)()){let e=["#FF6B1A","#9D4EDD","#000000","#FFA500"],t=o.shapeFromPath({path:"M0 -10 L2.5 -2.5 L10 0 L2.5 2.5 L0 10 L-2.5 2.5 L-10 0 L-2.5 -2.5 Z"}),n=o.shapeFromPath({path:"M0 -8 C-4 -8 -6 -6 -6 -2 L-6 6 L-4 4 L-2 6 L0 4 L2 6 L4 4 L6 6 L6 -2 C6 -6 4 -8 0 -8 Z"}),r=o.shapeFromPath({path:"M0 0 L-2 -2 C-4 -3 -6 -2 -8 0 C-6 1 -5 2 -3 2 L-1 1 L-1 3 L1 3 L1 1 L3 2 C5 2 6 1 8 0 C6 -2 4 -3 2 -2 Z"});i({particleCount:80,angle:60,spread:70,origin:{x:0},colors:e,shapes:[t,n,r],scalar:1.2,zIndex:1305}),i({particleCount:80,angle:120,spread:70,origin:{x:1},colors:e,shapes:[t,n,r],scalar:1.2,zIndex:1305})}else i({particleCount:100,angle:60,spread:65,origin:{x:0},colors:s.xt,zIndex:1305}),i({particleCount:100,angle:120,spread:65,origin:{x:1},colors:s.xt,zIndex:1305})}},58466:(e,t,n)=>{n.d(t,{A:()=>r});let r=function(e){if(e.sandbox){let t="allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-presentation allow-scripts allow-same-origin allow-downloads ";return e.disallowSandboxPopups||(t+=" allow-popups allow-popups-to-escape-sandbox"),t}}}}]);
